/**
 * Custom Emoji Picker Component Styles
 * Popup/overlay style picker
 */

@use 'sass:color';
@use '../abstracts/variables' as *;
@use '../abstracts/mixins' as *;

// Overlay (backdrop)
.emoji-picker-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: transparent;
  z-index: 10000;
  display: none;
  align-items: center;
  justify-content: center;
}

// Emoji picker container
.emoji-picker-custom {
  position: fixed;
  width: 200px;
  height: 450px;
  display: flex;
  flex-direction: column;
  background: $color-1;
  border: 1px solid $color-3;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.4);
  z-index: 10001;
}

// Search input
.emoji-picker-search {
  width: 100%;
  padding: $gap;
  border: none;
  border-bottom: 1px solid var(--border-color);
  background: var(--surface-elevated-color);
  color: var(--text-primary-color);
  font-size: var(--font-size-sm);
  outline: none;

  &::placeholder {
    color: var(--text-secondary-color);
  }

  &:focus {
    border-bottom-color: $color-6;
  }
}

// Category tabs (overrides for emoji icon tabs)
.emoji-picker-custom .tabs {
  gap: calc($gap / 4);
  padding: calc($gap / 2) $gap;
  background: var(--surface-elevated-color);
  border-bottom: 1px solid var(--border-color);
  overflow-x: auto;
  flex-shrink: 0;

  // Hide scrollbar
  &::-webkit-scrollbar {
    height: 0;
  }
}

.emoji-picker-custom .tab {
  padding: calc($gap / 2);
  font-size: 24px;
  border-radius: var(--border-radius-sm);
  border-bottom: none;
  flex-shrink: 0;
  opacity: 0.5;

  &:hover {
    background: var(--surface-color);
    opacity: 1;
  }

  &--active {
    background: var(--surface-color);
    opacity: 1;
    box-shadow: 0 2px 0 $color-6;
  }
}

// Grid container (scrollable)
.emoji-picker-grid-container {
  flex: 1;
  overflow-y: auto;
  padding: $gap;
  @include custom-scrollbar;
}

// Category section
.emoji-picker-category {
  margin-bottom: $gap * 2;

  &:last-child {
    margin-bottom: 0;
  }
}

.emoji-picker-category-title {
  font-size: 13px;
  font-weight: 600;
  color: var(--text-secondary-color);
  margin-bottom: calc($gap / 2);
  text-transform: none;
  letter-spacing: 0;
}

// Emoji grid
.emoji-picker-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(24px, 1fr));
  gap: calc($gap / 4);
}

.emoji-picker-emoji {
  background: transparent;
  border: none;
  padding: 0;
  font-size: 20px;
  cursor: pointer;
  border-radius: var(--border-radius-sm);
  transition: all 0.2s ease;
  aspect-ratio: 1;
  display: flex;
  align-items: center;
  justify-content: center;

  &:hover {
    background: var(--surface-elevated-color);
    transform: scale(1.2);
  }

  &:active {
    transform: scale(1.1);
  }
}

// Note: .btn-emoji styles are in _post-note-modal.scss

// Dark mode adjustments
@media (prefers-color-scheme: dark) {
  .emoji-picker-search {
    background: var(--surface-dark-color);
  }

  .emoji-picker-custom .tabs {
    background: var(--surface-dark-color);
  }

  .emoji-picker-emoji:hover {
    background: rgba(255, 255, 255, 0.05);
  }
}

// Responsive adjustments
@media (max-width: 768px) {
  .emoji-picker-custom {
    max-width: 100%;
    height: 400px;
  }

  .emoji-picker-grid {
    grid-template-columns: repeat(6, 1fr);
  }

  .emoji-picker-emoji {
    font-size: 24px;
  }
}
